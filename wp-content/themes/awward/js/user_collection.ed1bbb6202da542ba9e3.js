!function(e){function t(t){for(var a,i,s=t[0],l=t[1],c=t[2],d=0,f=[];d<s.length;d++)i=s[d],n[i]&&f.push(n[i][0]),n[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(u&&u(t);f.length;)f.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],a=!0,s=1;s<r.length;s++){var l=r[s];0!==n[l]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={45:0},o=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],r=n[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise(function(t,a){r=n[e]=[t,a]});t.push(r[2]=a);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(e){return i.p+""+({1:"vendors~create-collection~edit-collection",6:"contact",8:"create-collection",10:"edit-collection",11:"forgot-password",32:"register",33:"search",52:"vendors~zxcvbn"}[e]||e)+"."+{1:"b1e03f8019ec222a7a86",6:"b274c59f7d6fa2794ff3",8:"3499ffd1bcd37a8e594b",10:"9d7aa24b3f3f8938c37a",11:"0ac51a6bcb31d0781a4c",32:"dd3c463552e3e4683913",33:"14dde44ace6e4f2ce1b5",52:"dffd564e7f9b970093bf"}[e]+".js"}(e);var l=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(c);var r=n[e];if(0!==r){if(r){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",l.type=a,l.request=o,r[1](l)}n[e]=void 0}};var c=setTimeout(function(){o({type:"timeout",target:s})},12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="https://assets.awwwards.com/dist/js/",i.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([222,0]),r()}({155:function(e,t,r){var a=r(13);e.exports=(a.default||a).template({1:function(e,t,r,a,n){return'                        <div class="remove-cover-container row">\n                            <div class="remove-cover button button-red">REMOVE COVER</div>\n                        </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,r,a,n){var o,i,s=null!=t?t:e.nullContext||{};return'<div class="box-content-collections">\n    <div class="box-inside">\n        <div class="box-upload-cover">\n            <div class="box-add-image">\n                <div class="box-loading open" style="display: none">\n                    <svg class="loading">\n                        <circle cx="20" cy="20" r="18"></circle>\n                    </svg>\n                </div>\n                <div class="add-photo">\n                    <div class="info">\n'+(null!=(o=r.if.call(s,null!=t?t.image_exists:t,{name:"if",hash:{},fn:e.program(1,n,0),inverse:e.noop,data:n}))?o:"")+'                        <form id="uploadImageForm" action="'+e.escapeExpression("function"==typeof(i=null!=(i=r.route||(null!=t?t.route:t))?i:r.helperMissing)?i.call(s,{name:"route",hash:{},data:n}):i)+'" method="post" enctype="multipart/form-data">\n                            <div class="box-input-file style2">\n                                <input type="file" name="file" id="file-1" class="input-file">\n                                <label for="file-1">\n                                    <strong>UPLOAD IMAGE, GIF</strong>\n                                    <span class="js-filename">Recommended size: 1900 x 225 px<br>3MB max</span>\n                                </label>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},useData:!0})},222:function(e,t,r){r(10),e.exports=r(223)},223:function(e,t,r){"use strict";r.r(t),function(e){var t=r(0),a=r.n(t),n=r(9),o=r(12),i=r(4),s=r(155),l=r.n(s),c=(r(224),r(2)),u=r(11),d=r(55),f=r(48),p=r(6),m=r(46),v=a.a.View.extend({el:"body",hasCover:!1,events:{"click .js-upload-cover":"showImageManager","click .js-collection-edit":"_editCollection","change .input-file":"uploadImage","click .remove-cover":"removeCover","click .js-remove-collectable":"_openRemoveModal"},lightBoxCollection:null,initialize:function(){this.hasCover=null!==document.querySelector(".bg-cover"),void 0===e.fn.ajaxForm&&console.error("application need ajaxForm library"),this.lightBoxCollection=new n.a,this._addEditButtonToCover(),this._addUploadCoverButton(),this._addDeleteButtonsToElements()},_openRemoveModal:function(e){var t=this,r=this._findAncestor(e.currentTarget,"js-collectable");(new n.a).openConfirmation(p.a.trans("app.are_you_sure"),p.a.trans("app.delete"),function(){t._removeFromCollection(r)})},_removeFromCollection:function(t){var r=JSON.parse(t.dataset.model).id,a=JSON.parse(t.dataset.model).type;e(t).fadeOut(),this.model.removeCollectable(r,a),Object(m.a)("success",p.a.trans("app.notification.changes_saved"))},_findAncestor:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e},_editCollection:function(){var e=this;Promise.all([r.e(1),r.e(10)]).then(r.bind(null,320)).then(function(t){var r=new t.default({model:e.model});e.listenTo(r,"updated",function(t){e._updateCollectionDetails(t),r.close()}),e.listenTo(e.model,"collection_removed",function(){window.location.reload()}),e.listenTo(e.model,"collection_removed_failure",f.a.remove),r.open()})},_updateCollectionDetails:function(e){this.el.querySelector(".top .box-center .heading-medium").innerText=e.get("name"),this.el.querySelector(".top .box-center .desc").innerText=e.get("description")},_isOwner:function(){return this.model.get("user").id==o.a.id},_addUploadCoverButton:function(){this._isOwner()&&(this.el.querySelector(".js-upload-cover").style.display="block")},_addEditButtonToCover:function(){if(this._isOwner()&&!this.model.isLike()){var e=document.createElement("div");e.classList.add("js-collection-edit","bt-edit");var t=document.createRange().createContextualFragment(u.a.icon("pencil",14,14));e.appendChild(t),this.el.querySelector(".js-heading-collection").appendChild(e)}},_addDeleteButtonsToElements:function(){if(this._isOwner()){var e=document.createElement("span");e.classList.add("bt-item","bt-default","circle","js-remove-collectable");var t=document.createRange().createContextualFragment(u.a.icon("trash",14,14));e.appendChild(t),[].forEach.call(this.el.querySelectorAll(".js-collectable .js-options-collectable"),function(t){t.appendChild(e.cloneNode(!0))})}},uploadImage:function(t){e("#uploadImageForm").submit(),this.lightBoxCollection.$el.find(".box-upload-cover").append('<div class="box-loading style3"><div class="spinner"></div></div>'),t.preventDefault(),t.stopPropagation()},reloadPage:function(){location.reload()},removeCover:function(t){t.preventDefault(),this.el.querySelector(".bg-cover").remove(),this.el.querySelector(".remove-cover-container").remove(),this.lightBoxCollection.close(),e.ajax({type:"POST",url:c.a.generate("tv_collection_remove_cover",{id:this.model.get("id")})})},initializeUploadImage:function(){var t=this;e("#uploadImageForm").length>0&&e("#uploadImageForm").ajaxForm({complete:function(){t.reloadPage()}})},showImageManager:function(){var e=c.a.generate("tv_collection_upload_cover",{id:this.model.get("id")}),t=l()({route:e,image_exists:this.hasCover});this.lightBoxCollection.show(t,!0),this.initializeUploadImage()}});document.addEventListener("DOMContentLoaded",function(){new i.a;var e=document.querySelector(".js-single-element"),t=JSON.parse(e.dataset.model);new v({model:new d.a(t)})})}.call(this,r(5))},224:function(e,t,r){var a,n,o;
/*!
 * jQuery Form Plugin
 * version: 4.2.2
 * Requires jQuery v1.7.2 or later
 * Project repository: https://github.com/jquery-form/form

 * Copyright 2017 Kevin Morris
 * Copyright 2006 M. Alsup

 * Dual licensed under the LGPL-2.1+ or MIT licenses
 * https://github.com/jquery-form/form#license

 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 */n=[r(5)],void 0===(o="function"==typeof(a=function(e){"use strict";function t(t){var r=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).closest("form").ajaxSubmit(r))}function r(t){var r=t.target,a=e(r);if(!a.is("[type=submit],[type=image]")){var n=a.closest("[type=submit]");if(0===n.length)return;r=n[0]}var o=r.form;if(o.clk=r,"image"===r.type)if(void 0!==t.offsetX)o.clk_x=t.offsetX,o.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var i=a.offset();o.clk_x=t.pageX-i.left,o.clk_y=t.pageY-i.top}else o.clk_x=t.pageX-r.offsetLeft,o.clk_y=t.pageY-r.offsetTop;setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}function a(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var n=/\r?\n/g,o={};o.fileapi=void 0!==e('<input type="file">').get(0).files,o.formdata=void 0!==window.FormData;var i=!!e.fn.prop;e.fn.attr2=function(){if(!i)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t,r,n,s){function l(r){function n(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(e){a("cannot get iframe.contentWindow document: "+e)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(r){a("cannot get iframe.contentDocument: "+r),t=e.document}return t}function o(){var t=f.attr2("target"),r=f.attr2("action"),o=f.attr("enctype")||f.attr("encoding")||"multipart/form-data";T.setAttribute("target",m),c&&!/post/i.test(c)||T.setAttribute("method","POST"),r!==d.url&&T.setAttribute("action",d.url),d.skipEncodingOverride||c&&!/post/i.test(c)||f.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),d.timeout&&(j=setTimeout(function(){w=!0,s(D)},d.timeout));var i=[];try{if(d.extraData)for(var l in d.extraData)d.extraData.hasOwnProperty(l)&&(e.isPlainObject(d.extraData[l])&&d.extraData[l].hasOwnProperty("name")&&d.extraData[l].hasOwnProperty("value")?i.push(e('<input type="hidden" name="'+d.extraData[l].name+'">',_).val(d.extraData[l].value).appendTo(T)[0]):i.push(e('<input type="hidden" name="'+l+'">',_).val(d.extraData[l]).appendTo(T)[0]));d.iframeTarget||v.appendTo(k),g.attachEvent?g.attachEvent("onload",s):g.addEventListener("load",s,!1),setTimeout(function e(){try{var t=n(g).readyState;a("state = "+t),t&&"uninitialized"===t.toLowerCase()&&setTimeout(e,50)}catch(t){a("Server abort: ",t," (",t.name,")"),s(C),j&&clearTimeout(j),j=void 0}},15);try{T.submit()}catch(e){document.createElement("form").submit.apply(T)}}finally{T.setAttribute("action",r),T.setAttribute("enctype",o),t?T.setAttribute("target",t):f.removeAttr("target"),e(i).remove()}}function s(t){if(!b.aborted&&!M){if((A=n(g))||(a("cannot access response document"),t=C),t===D&&b)return b.abort("timeout"),void S.reject(b,"timeout");if(t===C&&b)return b.abort("server abort"),void S.reject(b,"error","server abort");if(A&&A.location.href!==d.iframeSrc||w){g.detachEvent?g.detachEvent("onload",s):g.removeEventListener("load",s,!1);var r,o="success";try{if(w)throw"timeout";var i="xml"===d.dataType||A.XMLDocument||e.isXMLDoc(A);if(a("isXml="+i),!i&&window.opera&&(null===A.body||!A.body.innerHTML)&&--L)return a("requeing onLoad callback, DOM not available"),void setTimeout(s,250);var l=A.body?A.body:A.documentElement;b.responseText=l?l.innerHTML:null,b.responseXML=A.XMLDocument?A.XMLDocument:A,i&&(d.dataType="xml"),b.getResponseHeader=function(e){return{"content-type":d.dataType}[e.toLowerCase()]},l&&(b.status=Number(l.getAttribute("status"))||b.status,b.statusText=l.getAttribute("statusText")||b.statusText);var c=(d.dataType||"").toLowerCase(),u=/(json|script|text)/.test(c);if(u||d.textarea){var f=A.getElementsByTagName("textarea")[0];if(f)b.responseText=f.value,b.status=Number(f.getAttribute("status"))||b.status,b.statusText=f.getAttribute("statusText")||b.statusText;else if(u){var m=A.getElementsByTagName("pre")[0],h=A.getElementsByTagName("body")[0];m?b.responseText=m.textContent?m.textContent:m.innerText:h&&(b.responseText=h.textContent?h.textContent:h.innerText)}}else"xml"===c&&!b.responseXML&&b.responseText&&(b.responseXML=P(b.responseText));try{F=q(b,c,d)}catch(e){o="parsererror",b.error=r=e||o}}catch(e){a("error caught: ",e),o="error",b.error=r=e||o}b.aborted&&(a("upload aborted"),o=null),b.status&&(o=b.status>=200&&b.status<300||304===b.status?"success":"error"),"success"===o?(d.success&&d.success.call(d.context,F,"success",b),S.resolve(b.responseText,"success",b),p&&e.event.trigger("ajaxSuccess",[b,d])):o&&(void 0===r&&(r=b.statusText),d.error&&d.error.call(d.context,b,o,r),S.reject(b,"error",r),p&&e.event.trigger("ajaxError",[b,d,r])),p&&e.event.trigger("ajaxComplete",[b,d]),p&&!--e.active&&e.event.trigger("ajaxStop"),d.complete&&d.complete.call(d.context,b,o),M=!0,d.timeout&&clearTimeout(j),setTimeout(function(){d.iframeTarget?v.attr("src",d.iframeSrc):v.remove(),b.responseXML=null},100)}}}var l,u,d,p,m,v,g,b,x,y,w,j,T=f[0],S=e.Deferred();if(S.abort=function(e){b.abort(e)},r)for(u=0;u<h.length;u++)l=e(h[u]),i?l.prop("disabled",!1):l.removeAttr("disabled");(d=e.extend(!0,{},e.ajaxSettings,t)).context=d.context||d,m="jqFormIO"+(new Date).getTime();var _=T.ownerDocument,k=f.closest("body");if(d.iframeTarget?(y=(v=e(d.iframeTarget,_)).attr2("name"))?m=y:v.attr2("name",m):(v=e('<iframe name="'+m+'" src="'+d.iframeSrc+'" />',_)).css({position:"absolute",top:"-1000px",left:"-1000px"}),g=v[0],b={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var r="timeout"===t?"timeout":"aborted";a("aborting upload... "+r),this.aborted=1;try{g.contentWindow.document.execCommand&&g.contentWindow.document.execCommand("Stop")}catch(e){}v.attr("src",d.iframeSrc),b.error=r,d.error&&d.error.call(d.context,b,r,t),p&&e.event.trigger("ajaxError",[b,d,r]),d.complete&&d.complete.call(d.context,b,r)}},(p=d.global)&&0==e.active++&&e.event.trigger("ajaxStart"),p&&e.event.trigger("ajaxSend",[b,d]),d.beforeSend&&!1===d.beforeSend.call(d.context,b,d))return d.global&&e.active--,S.reject(),S;if(b.aborted)return S.reject(),S;(x=T.clk)&&(y=x.name)&&!x.disabled&&(d.extraData=d.extraData||{},d.extraData[y]=x.value,"image"===x.type&&(d.extraData[y+".x"]=T.clk_x,d.extraData[y+".y"]=T.clk_y));var D=1,C=2,O=e("meta[name=csrf-token]").attr("content"),E=e("meta[name=csrf-param]").attr("content");E&&O&&(d.extraData=d.extraData||{},d.extraData[E]=O),d.forceSync?o():setTimeout(o,10);var F,A,M,L=50,P=e.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!==t.documentElement.nodeName?t:null},I=e.parseJSON||function(e){return window.eval("("+e+")")},q=function(t,r,a){var n=t.getResponseHeader("content-type")||"",o=("xml"===r||!r)&&n.indexOf("xml")>=0,i=o?t.responseXML:t.responseText;return o&&"parsererror"===i.documentElement.nodeName&&e.error&&e.error("parsererror"),a&&a.dataFilter&&(i=a.dataFilter(i,r)),"string"==typeof i&&(("json"===r||!r)&&n.indexOf("json")>=0?i=I(i):("script"===r||!r)&&n.indexOf("javascript")>=0&&e.globalEval(i)),i};return S}if(!this.length)return a("ajaxSubmit: skipping submit process - no element selected"),this;var c,u,d,f=this;"function"==typeof t?t={success:t}:"string"==typeof t||!1===t&&arguments.length>0?(t={url:t,data:r,dataType:n},"function"==typeof s&&(t.success=s)):void 0===t&&(t={}),c=t.method||t.type||this.attr2("method"),(d=(d="string"==typeof(u=t.url||this.attr2("action"))?e.trim(u):"")||window.location.href||"")&&(d=(d.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:d,success:e.ajaxSettings.success,type:c||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var p={};if(this.trigger("form-pre-serialize",[this,t,p]),p.veto)return a("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&!1===t.beforeSerialize(this,t))return a("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var m=t.traditional;void 0===m&&(m=e.ajaxSettings.traditional);var v,h=[],g=this.formToArray(t.semantic,h,t.filtering);if(t.data){var b=e.isFunction(t.data)?t.data(g):t.data;t.extraData=b,v=e.param(b,m)}if(t.beforeSubmit&&!1===t.beforeSubmit(g,this,t))return a("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,t,p]),p.veto)return a("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var x=e.param(g,m);v&&(x=x?x+"&"+v:v),"GET"===t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+x,t.data=null):t.data=x;var y=[];if(t.resetForm&&y.push(function(){f.resetForm()}),t.clearForm&&y.push(function(){f.clearForm(t.includeHidden)}),!t.dataType&&t.target){var w=t.success||function(){};y.push(function(r,a,n){var o=arguments,i=t.replaceTarget?"replaceWith":"html";e(t.target)[i](r).each(function(){w.apply(this,o)})})}else t.success&&(e.isArray(t.success)?e.merge(y,t.success):y.push(t.success));if(t.success=function(e,r,a){for(var n=t.context||this,o=0,i=y.length;o<i;o++)y[o].apply(n,[e,r,a||f,f])},t.error){var j=t.error;t.error=function(e,r,a){var n=t.context||this;j.apply(n,[e,r,a,f])}}if(t.complete){var T=t.complete;t.complete=function(e,r){var a=t.context||this;T.apply(a,[e,r,f])}}var S=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}).length>0,_="multipart/form-data",k=f.attr("enctype")===_||f.attr("encoding")===_,D=o.fileapi&&o.formdata;a("fileAPI :"+D);var C,O=(S||k)&&!D;!1!==t.iframe&&(t.iframe||O)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){C=l(g)}):C=l(g):C=(S||k)&&D?function(r){for(var a=new FormData,n=0;n<r.length;n++)a.append(r[n].name,r[n].value);if(t.extraData){var o=function(r){var a,n,o=e.param(r,t.traditional).split("&"),i=o.length,s=[];for(a=0;a<i;a++)o[a]=o[a].replace(/\+/g," "),n=o[a].split("="),s.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])]);return s}(t.extraData);for(n=0;n<o.length;n++)o[n]&&a.append(o[n][0],o[n][1])}t.data=null;var i=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:c||"POST"});t.uploadProgress&&(i.xhr=function(){var r=e.ajaxSettings.xhr();return r.upload&&r.upload.addEventListener("progress",function(e){var r=0,a=e.loaded||e.position,n=e.total;e.lengthComputable&&(r=Math.ceil(a/n*100)),t.uploadProgress(e,a,n,r)},!1),r}),i.data=null;var s=i.beforeSend;return i.beforeSend=function(e,r){t.formData?r.data=t.formData:r.data=a,s&&s.call(this,e,r)},e.ajax(i)}(g):e.ajax(t),f.removeData("jqxhr").data("jqxhr",C);for(var E=0;E<h.length;E++)h[E]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(n,o,i,s){if(("string"==typeof n||!1===n&&arguments.length>0)&&(n={url:n,data:o,dataType:i},"function"==typeof s&&(n.success=s)),(n=n||{}).delegation=n.delegation&&e.isFunction(e.fn.on),!n.delegation&&0===this.length){var l={s:this.selector,c:this.context};return!e.isReady&&l.s?(a("DOM not ready, queuing ajaxForm"),e(function(){e(l.s,l.c).ajaxForm(n)}),this):(a("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return n.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,r).on("submit.form-plugin",this.selector,n,t).on("click.form-plugin",this.selector,n,r),this):this.ajaxFormUnbind().on("submit.form-plugin",n,t).on("click.form-plugin",n,r)},e.fn.ajaxFormUnbind=function(){return this.off("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,r,a){var n=[];if(0===this.length)return n;var i,s,l,c,u,d,f,p,m=this[0],v=this.attr("id"),h=t||void 0===m.elements?m.getElementsByTagName("*"):m.elements;if(h&&(h=e.makeArray(h)),v&&(t||/(Edge|Trident)\//.test(navigator.userAgent))&&(i=e(':input[form="'+v+'"]').get()).length&&(h=(h||[]).concat(i)),!h||!h.length)return n;for(e.isFunction(a)&&(h=e.map(h,a)),s=0,f=h.length;s<f;s++)if(d=h[s],(c=d.name)&&!d.disabled)if(t&&m.clk&&"image"===d.type)m.clk===d&&(n.push({name:c,value:e(d).val(),type:d.type}),n.push({name:c+".x",value:m.clk_x},{name:c+".y",value:m.clk_y}));else if((u=e.fieldValue(d,!0))&&u.constructor===Array)for(r&&r.push(d),l=0,p=u.length;l<p;l++)n.push({name:c,value:u[l]});else if(o.fileapi&&"file"===d.type){r&&r.push(d);var g=d.files;if(g.length)for(l=0;l<g.length;l++)n.push({name:c,value:g[l],type:d.type});else n.push({name:c,value:"",type:d.type})}else null!=u&&(r&&r.push(d),n.push({name:c,value:u,type:d.type,required:d.required}));if(!t&&m.clk){var b=e(m.clk),x=b[0];(c=x.name)&&!x.disabled&&"image"===x.type&&(n.push({name:c,value:b.val()}),n.push({name:c+".x",value:m.clk_x},{name:c+".y",value:m.clk_y}))}return n},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var r=[];return this.each(function(){var a=this.name;if(a){var n=e.fieldValue(this,t);if(n&&n.constructor===Array)for(var o=0,i=n.length;o<i;o++)r.push({name:a,value:n[o]});else null!=n&&r.push({name:this.name,value:n})}}),e.param(r)},e.fn.fieldValue=function(t){for(var r=[],a=0,n=this.length;a<n;a++){var o=this[a],i=e.fieldValue(o,t);null==i||i.constructor===Array&&!i.length||(i.constructor===Array?e.merge(r,i):r.push(i))}return r},e.fieldValue=function(t,r){var a=t.name,o=t.type,i=t.tagName.toLowerCase();if(void 0===r&&(r=!0),r&&(!a||t.disabled||"reset"===o||"button"===o||("checkbox"===o||"radio"===o)&&!t.checked||("submit"===o||"image"===o)&&t.form&&t.form.clk!==t||"select"===i&&-1===t.selectedIndex))return null;if("select"===i){var s=t.selectedIndex;if(s<0)return null;for(var l=[],c=t.options,u="select-one"===o,d=u?s+1:c.length,f=u?s:0;f<d;f++){var p=c[f];if(p.selected&&!p.disabled){var m=p.value;if(m||(m=p.attributes&&p.attributes.value&&!p.attributes.value.specified?p.text:p.value),u)return m;l.push(m)}}return l}return e(t).val().replace(n,"\r\n")},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var r=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var a=this.type,n=this.tagName.toLowerCase();r.test(a)||"textarea"===n?this.value="":"checkbox"===a||"radio"===a?this.checked=!1:"select"===n?this.selectedIndex=-1:"file"===a?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(!0===t&&/hidden/.test(a)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){var t=e(this),r=this.tagName.toLowerCase();switch(r){case"input":this.checked=this.defaultChecked;case"textarea":return this.value=this.defaultValue,!0;case"option":case"optgroup":var a=t.parents("select");return a.length&&a[0].multiple?"option"===r?this.selected=this.defaultSelected:t.find("option").resetForm():a.resetForm(),!0;case"select":return t.find("option").each(function(e){if(this.selected=this.defaultSelected,this.defaultSelected&&!t[0].multiple)return t[0].selectedIndex=e,!1}),!0;case"label":var n=e(t.attr("for")),o=t.find("input,select,textarea");return n[0]&&o.unshift(n[0]),o.resetForm(),!0;case"form":return("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset(),!0;default:return t.find("form,input,label,select,textarea").resetForm(),!0}})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var r=this.type;if("checkbox"===r||"radio"===r)this.checked=t;else if("option"===this.tagName.toLowerCase()){var a=e(this).parent("select");t&&a[0]&&"select-one"===a[0].type&&a.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1})?a.apply(t,n):a)||(e.exports=o)}});